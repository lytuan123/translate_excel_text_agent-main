# AI Rules for PDF OCR Integration Development

## Overall Workflow

1.  **Understand Context:** Before starting any task, briefly review the goal described in `PRD_OCR_Integration.md` and the overall list in `task.md`.
2.  **Select Task:** Identify the *next* task marked with `[ ]` in `task.md`.
3.  **Plan:** Announce which task you are about to work on. Briefly explain *how* you plan to implement it (e.g., "I will now work on [Backend-1] by creating the file `app/ocr_processor.py` and defining the basic function signature.").
4.  **Execute:** Perform the necessary actions (create file, edit code, run commands if applicable). Focus on completing *only the current task*.
5.  **Verify (If Possible):** If the task involves code changes, ensure the code is syntactically correct. If tests were defined, run them (though automated testing setup is not part of the current scope).
6.  **Update Task List:** After successfully completing the task, update its status in `task.md` from `[ ]` to `[x]`.
7.  **Repeat:** Go back to step 2 to select the next task.

## Coding Guidelines

*   **Modularity:** Keep the OCR processing logic separate in `app/ocr_processor.py` and the Gradio UI logic in `app/web_app.py`.
*   **Clarity:** Write clear and understandable Python code. Add comments for non-obvious parts.
*   **Error Handling:** Implement basic error handling (e.g., using `try...except` blocks) in the backend OCR processing to catch potential issues like file not found, `pdf2image` errors, or `pytesseract` errors. Return meaningful error messages to the frontend.
*   **Dependencies:** Only add necessary imports. Ensure all new Python dependencies are added to `requirements.txt` as part of **[Setup-2]**.
*   **User Feedback:** Ensure UI updates reflect the processing state (loading indicators, error messages) as defined in **[Integration-3]**.

## Interaction with User

*   **Dependency Checks:** For task **[Setup-1]**, ask the user to confirm that Tesseract OCR and Poppler are installed on their system and accessible in the PATH, or provide instructions/links for installation based on their OS (if known).
*   **Clarifications:** If a task description or requirement in the PRD is unclear, ask the user for clarification *before* proceeding with the implementation.
*   **Decisions:** For optional tasks like **[Feature-Enhancement]**, confirm with the user if they want to proceed with it when that task is reached.
*   **Testing Guidance:** When reaching the testing tasks (**[Testing-1]** to **[Testing-3]**), ask the user to perform the tests and report back the results, as automated UI/integration testing is not set up.

## File Management

*   Always read relevant files (`PRD_OCR_Integration.md`, `task.md`, `app/web_app.py`, etc.) before making changes.
*   Use the `edit_file` tool to modify existing files or create new ones.
*   When editing, provide clear instructions and use the `// ... existing code ...` or `# ... existing code ...` convention. 